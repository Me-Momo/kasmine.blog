---
layout: post
published: false
date: 2017-10-30
tags: Git
---

## 用户信息

当安装完 Git 应该做的第一件事就是设置你的用户名称与邮件地址。 这样做很重要，因为每一个 Git 的提交都会使用这些信息，并且它会写入到你的每一次提交中，不可更改

```sh
git config --global user.name <username>
git config --global user.email <useremail>
```

## 检查配置信息

```sh
git config --list
git config user.name
```

## 创建分支　
```sh
# 从当前分支创建新的分支并且切换
git checkout -b <branchname>
```

 ## 拉取远程仓库分支内容

```sh
# git pull 操作就可以从远程库中获取某个分支的更新，再与本地指定的分支进行自动merge(即使本地不存在这个分支)
git pull origin <branchname>
```
 
 ## 将本地仓库提交到远程仓库中

```sh
git init
git remote add <name> <remoteurl>
```


## 查看分支

```sh
# 查看本地所有分支 
git branch
# 查看远程所有分支
git branch -r
```
## 删除分支

```sh
# 本地分支
git branch -d <branchname>
# 远程分支
git push origin -d <branchname>
```


## 碰到过的一些问题

### git 修改已提交的某一次的邮箱和用户信息

> https://segmentfault.com/q/1010000006999861

```sh
# 欲修改的commit1
# 欲修改的commit1 的 上一commit2
git rebase -i <commit2id>
# 然后将第一行的数据的pick修改为edit，保存退出
git commit --ammend --author="username <useremail@qq.com>" --no-edit
git rebase --continue
```

### 本地分支某一提交发生错误，而远程分支是正确的

```sh
# 修正方法
# 错误commit1
# 错误commit1 的 上一commit2
# 回退到正确的提交
git reset <commit2id> --hard
# 拉取远程分支内容
git pull
```

## [GIT 代码回滚](https://github.com/geeeeeeeeek/git-recipes/wiki/5.2-%E4%BB%A3%E7%A0%81%E5%9B%9E%E6%BB%9A%EF%BC%9AReset%E3%80%81Checkout%E3%80%81Revert-%E7%9A%84%E9%80%89%E6%8B%A9)

### git reset

> 在提交层面上，reset 将一个分支的末端指向另一个提交。这可以用来移除当前分支的一些提交

```sh
# --mixed
# --hard
# --soft
git reset --mixed HEAD # 将你当前的改动从缓存区中(goto到当前HEAD - 已经提交的最后分支位置)移除，但是这些改动还留在工作目录中。
git reset HEAD~2 # 回退两个提交
```