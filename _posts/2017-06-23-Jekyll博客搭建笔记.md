---
layout: post
title: Jekyll 博客搭建笔记
header-img: post-bg-02.jpg
tag: []
category: Jekyll
---

1.新建一个 blog的文件夹
2.cd blog，在里面创建几个文件夹和文件以 _config.yml文件


 3. 配置 _config.yml 文件

```yml
# Site settings
title: Kasmine Blog
SEOTitle: 廖晓娟的博客 | Kasmine Blog
header-img: assets/img/home-bg.jpg
email: momo736929286@gmail.com
description: ""
keyword: ""
url: ""              # your host, for absolute URL
baseurl: ""                             # for example, '/blog' if your blog hosted on 'host/blog'
# SNS settings
RSS: false
weibo_username:     kasmine
zhihu_username:     kasmine
github_username:    kasmine
#twitter_username:  kasmine
facebook_username:  kasmine
# linkedin_username:  firstname-lastname-idxxxx
# Build settings
# from 2016, 'pygments' is unsupported on GitHub Pages. Use 'rouge' for highlighting instead.
highlighter: rouge
permalink: pretty
paginate: 10
exclude: ["less","node_modules","Gruntfile.js","package.json","README.md","README.zh.md"]
anchorjs: true                          # 如何设置
# Gems
# from PR#40, to support local preview for Jekyll 3.0
gems: [jekyll-paginate]
# Markdown settings
# replace redcarpet to kramdown,
# although redcarpet can auto highlight code, the lack of header-id make the catalog impossible, so I switch to kramdown
# document: http://jekyllrb.com/docs/configuration/#kramdown
markdown: kramdown
kramdown:
  input: GFM                            # use Github Flavored Markdown !important
# Disqus settings  待完善
#disqus_username: _your_disqus_short_name_
# Analytics settings
# Google Analytics
ga_track_id: 'UA-89922034-1'            # Format: UA-xxxxxx-xx
# ga_domain: 
# Sidebar settings
sidebar: true                           # whether or not using Sidebar.
sidebar-about-description: "写写代码，做做设计，<br>离开世界之前，一切都是过程"
sidebar-avatar: /img/avatar-hux.jpg      # use absolute URL, seeing it's used in both `/` and `/about/`
# Featured Tags
featured-tags: true                     # whether or not using Feature-Tags
featured-condition-size: 1              # A tag will be featured if the size of it is more than this condition value
# Friends
friends: [{
        title: "前端外刊评论",
        href: "http://qianduan.guru/"
    }
]
```

4.创建_layouts 里面的布局

 
5.创建_includes里面的布局(主要是一些nav,footer等等公共组件)


6. 添加 anchor-js自定义锚点
 参考文档 Doc 
7. 使用 canonical URL

```html
<!-- Canonical URL -->
<link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
```

The SEO benefit of rel=canonical

> Choosing a proper canonical URL for every set of similar URLs improves the SEO of your site. Because the search engine knows which version is canonical, it can count all the links towards all the different versions, as links to that single version. Setting a canonical is similar to doing a 301 redirect, but without actually redirecting.
来源： https://yoast.com/rel-canonical/

8. 使用 Pygments实现代码的高亮

```html
<!-- Pygments Github CSS -->
<link rel="stylesheet" href="{{ "/assets/css/syntax.css" | prepend: site.baseurl }}">
```

9. 添加目录 ： 主要原理就是  查找博文页面的 h标签，然后动态添加 id,并添加侧边栏 导航  参考：https://huangxuan.me/

``` html
<!-- Side Catalog -->
<script type="text/javascript">
    function generateCatalog (selector) {
        var P = $('div.posts-container'),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;    
    }
    generateCatalog(".catalog-body");
    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))
    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>
```

9. 使用命令行参数

```bash
jekyll server --port PORT // 选择自己想要的端口
jekyll server -watch   // 实现jekyll 实时更新
```

评论区配置
参考：这篇文章


博客迁移
1. 
gem install jekyll-import 
2. 


额外
1. jquery.tagcloud.js





















